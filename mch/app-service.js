
	__wxRoute = 'mch/m/myshop/myshop';__wxRouteBegin = true; 	define("mch/m/myshop/myshop.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=require("../../../api.js"),a=getApp();Page({data:{is_show:!1},onLoad:function(o){a.pageOnLoad(this);var i=this;wx.showLoading({title:"加载中"}),a.request({url:t.mch.user.myshop,success:function(t){wx.hideLoading(),0==t.code&&(0===t.data.mch.is_open&&wx.showModal({title:"提示",content:"\b店铺已被关闭！请联系管理员",showCancel:!1,success:function(t){t.confirm&&wx.navigateBack()}}),i.setData(t.data),i.setData({is_show:!0})),1==t.code&&wx.redirectTo({url:"/mch/apply/apply"})}})},onReady:function(){a.pageOnReady(this)},onShow:function(){a.pageOnShow(this)},onHide:function(){a.pageOnHide(this)},onUnload:function(){a.pageOnUnload(this)},navigatorSubmit:function(o){a.request({url:t.user.save_form_id+"&form_id="+o.detail.formId}),wx.navigateTo({url:o.detail.value.url})},showPcUrl:function(){this.setData({show_pc_url:!0})},hidePcUrl:function(){this.setData({show_pc_url:!1})},copyPcUrl:function(){var t=this;wx.setClipboardData({data:t.data.pc_url,success:function(a){t.showToast({title:"内容已复制"})}})}}); 
 			}); 	require("mch/m/myshop/myshop.js");
 		__wxRoute = 'mch/m/setting/setting';__wxRouteBegin = true; 	define("mch/m/setting/setting.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=require("../../../api.js"),a=require("../../../area-picker/area-picker.js"),i=getApp();Page({data:{},onLoad:function(e){i.pageOnLoad(this);var o=this;o.getDistrictData(function(t){a.init({page:o,data:t})}),wx.showLoading({title:"正在加载"}),i.request({url:t.mch.user.setting,success:function(t){wx.hideLoading(),o.setData(t.data)}})},getDistrictData:function(a){var e=wx.getStorageSync("district");if(!e)return wx.showLoading({title:"正在加载",mask:!0}),void i.request({url:t.default.district,success:function(t){wx.hideLoading(),0==t.code&&(e=t.data,wx.setStorageSync("district",e),a(e))}});a(e)},onAreaPickerConfirm:function(t){this.setData({edit_district:{province:{id:t[0].id,name:t[0].name},city:{id:t[1].id,name:t[1].name},district:{id:t[2].id,name:t[2].name}}})},mchCommonCatChange:function(t){this.setData({mch_common_cat_index:t.detail.value})},formSubmit:function(a){var e=this;wx.showLoading({title:"正在提交",mask:!0}),a.detail.value.form_id=a.detail.formId,a.detail.value.mch_common_cat_id=e.data.mch_common_cat_index?e.data.mch_common_cat_list[e.data.mch_common_cat_index].id:e.data.mch&&e.data.mch.mch_common_cat_id?e.data.mch.mch_common_cat_id:"",i.request({url:t.mch.user.setting_submit,method:"post",data:a.detail.value,success:function(t){wx.hideLoading(),0==t.code?wx.showModal({title:"提示",content:t.msg,showCancel:!1,success:function(t){t.confirm&&wx.navigateBack({delta:1})}}):e.showToast({title:t.msg})}})},onReady:function(){i.pageOnReady(this)},onShow:function(){i.pageOnShow(this)},onHide:function(){i.pageOnHide(this)},onUnload:function(){i.pageOnUnload(this)},uploadLogo:function(){var t=this;i.uploader.upload({start:function(t){wx.showLoading({title:"正在上传",mask:!0})},success:function(a){0==a.code?(t.data.mch.logo=a.data.url,t.setData({mch:t.data.mch})):t.showToast({title:a.msg})},error:function(a){t.showToast({title:a})},complete:function(){wx.hideLoading()}})},uploadHeaderBg:function(){var t=this;i.uploader.upload({start:function(t){wx.showLoading({title:"正在上传",mask:!0})},success:function(a){0==a.code?(t.data.mch.header_bg=a.data.url,t.setData({mch:t.data.mch})):t.showToast({title:a.msg})},error:function(a){t.showToast({title:a})},complete:function(){wx.hideLoading()}})}}); 
 			}); 	require("mch/m/setting/setting.js");
 		__wxRoute = 'mch/m/goods/goods';__wxRouteBegin = true; 	define("mch/m/goods/goods.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=require("../../../api.js"),o=getApp();Page({data:{status:1,goods_list:[],no_goods:!1,no_more_goods:!1},onLoad:function(t){o.pageOnLoad(this);var a=this;a.setData({status:parseInt(t.status||1),loading_more:!0}),a.loadGoodsList(function(){a.setData({loading_more:!1})})},onReady:function(){o.pageOnReady(this)},onShow:function(){o.pageOnShow(this)},onHide:function(){o.pageOnHide(this)},onUnload:function(){o.pageOnUnload(this)},onPullDownRefresh:function(){},onReachBottom:function(t){var o=this;o.data.loading_more||(o.setData({loading_more:!0}),o.loadGoodsList(function(){o.setData({loading_more:!1})}))},searchSubmit:function(t){var o=this,a=t.detail.value;o.setData({keyword:a,loading_more:!0,goods_list:[],current_page:0}),o.loadGoodsList(function(){o.setData({loading_more:!1})})},loadGoodsList:function(a){var s=this;if(s.data.no_goods||s.data.no_more_goods)"function"==typeof a&&a();else{var e=(s.data.current_page||0)+1;o.request({url:t.mch.goods.list,data:{page:e,status:s.data.status,keyword:s.data.keyword||""},success:function(t){0==t.code&&(1!=e||t.data.list&&t.data.list.length||s.setData({no_goods:!0}),t.data.list&&t.data.list.length?(s.data.goods_list=s.data.goods_list||[],s.data.goods_list=s.data.goods_list.concat(t.data.list),s.setData({goods_list:s.data.goods_list,current_page:e})):s.setData({no_more_goods:!0}))},complete:function(){"function"==typeof a&&a()}})}},showMoreAlert:function(t){var o=this;setTimeout(function(){var a=t.currentTarget.dataset.index;o.data.goods_list[a].show_alert=!0,o.setData({goods_list:o.data.goods_list})},50)},hideMoreAlert:function(t){var o=this,a=!1;for(var s in o.data.goods_list)o.data.goods_list[s].show_alert&&(o.data.goods_list[s].show_alert=!1,a=!0);a&&setTimeout(function(){o.setData({goods_list:o.data.goods_list})},100)},setGoodsStatus:function(a){var s=this,e=a.currentTarget.dataset.targetStatus,d=a.currentTarget.dataset.index;wx.showLoading({title:"正在处理",mask:!0}),o.request({url:t.mch.goods.set_status,data:{id:s.data.goods_list[d].id,status:e},success:function(t){0==t.code&&(s.data.goods_list[d].status=e,s.setData({goods_list:s.data.goods_list})),s.showToast({title:t.msg,duration:1500})},complete:function(){wx.hideLoading()}})},goodsDelete:function(a){var s=this,e=a.currentTarget.dataset.index;wx.showModal({title:"警告",content:"确认删除该商品？",success:function(a){a.confirm&&(wx.showLoading({title:"正在处理",mask:!0}),o.request({url:t.mch.goods.delete,data:{id:s.data.goods_list[e].id},success:function(t){s.showToast({title:t.msg}),0==t.code&&(s.data.goods_list.splice(e,1),s.setData({goods_list:s.data.goods_list}))},complete:function(){wx.hideLoading()}}))}})}}); 
 			}); 	require("mch/m/goods/goods.js");
 		__wxRoute = 'mch/m/order/order';__wxRouteBegin = true; 	define("mch/m/order/order.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=require("../../../api.js"),e=getApp();Page({data:{status:1,show_menu:!1,order_list:[],no_orders:!1,no_more_orders:!1},onLoad:function(t){e.pageOnLoad(this);var a=this;a.setData({status:parseInt(t.status||1),loading_more:!0}),a.loadOrderList(function(){a.setData({loading_more:!1})})},onReady:function(){e.pageOnReady(this)},onShow:function(){e.pageOnShow(this)},onHide:function(){e.pageOnHide(this)},onUnload:function(){e.pageOnUnload(this)},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},showMenu:function(t){var e=this;e.setData({show_menu:!e.data.show_menu})},loadOrderList:function(a){var o=this,s=o.data.status,n=(o.data.current_page||0)+1,r=o.data.keyword||"";e.request({url:t.mch.order.list,data:{status:s,page:n,keyword:r},success:function(t){0==t.code&&(1!=n||t.data.list&&t.data.list.length||o.setData({no_orders:!0}),t.data.list&&t.data.list.length?(o.data.order_list=o.data.order_list||[],o.data.order_list=o.data.order_list.concat(t.data.list),o.setData({order_list:o.data.order_list,current_page:n})):o.setData({no_more_orders:!0}))},complete:function(){"function"==typeof a&&a()}})},showSendModal:function(t){this.setData({show_send_modal:!0,send_type:"express",order_index:t.currentTarget.dataset.index})},hideSendModal:function(){this.setData({show_send_modal:!1})},switchSendType:function(t){var e=this,a=t.currentTarget.dataset.type;e.setData({send_type:a})},sendSubmit:function(){var a=this;if("express"==a.data.send_type)return a.hideSendModal(),void wx.navigateTo({url:"/mch/m/order-send/order-send?id="+a.data.order_list[a.data.order_index].id});wx.showModal({title:"提示",content:"无需物流方式订单将直接标记成已发货，确认操作？",success:function(o){o.confirm&&(wx.showLoading({title:"正在提交",mask:!0}),e.request({url:t.mch.order.send,method:"post",data:{send_type:"none",order_id:a.data.order_list[a.data.order_index].id},success:function(t){wx.showModal({title:"提示",content:t.msg,success:function(e){e.confirm&&0==t.code&&wx.redirectTo({url:"/mch/m/order/order?status=2"})}})},complete:function(){wx.hideLoading({title:"正在提交",mask:!0})}}))}})},showPicList:function(t){var e=this;wx.previewImage({urls:e.data.order_list[t.currentTarget.dataset.index].pic_list,current:e.data.order_list[t.currentTarget.dataset.index].pic_list[t.currentTarget.dataset.pindex]})},refundPass:function(a){var o=this,s=a.currentTarget.dataset.index,n=o.data.order_list[s].id,r=o.data.order_list[s].type;wx.showModal({title:"提示",content:"确认同意"+(1==r?"退款？资金将原路返回！":"换货？"),success:function(a){a.confirm&&(wx.showLoading({title:"正在处理",mask:!0}),e.request({url:t.mch.order.refund,method:"post",data:{id:n,action:"pass"},success:function(t){wx.showModal({title:"提示",content:t.msg,showCancel:!1,success:function(t){wx.redirectTo({url:"/"+o.route+"?"+getApp().utils.objectToUrlParams(o.options)})}})},complete:function(){wx.hideLoading()}}))}})},refundDeny:function(a){var o=this,s=a.currentTarget.dataset.index,n=o.data.order_list[s].id;o.data.order_list[s].type;wx.showModal({title:"提示",content:"确认拒绝？",success:function(a){a.confirm&&(wx.showLoading({title:"正在处理",mask:!0}),e.request({url:t.mch.order.refund,method:"post",data:{id:n,action:"deny"},success:function(t){wx.showModal({title:"提示",content:t.msg,showCancel:!1,success:function(t){wx.redirectTo({url:"/"+o.route+"?"+getApp().utils.objectToUrlParams(o.options)})}})},complete:function(){wx.hideLoading()}}))}})}}); 
 			}); 	require("mch/m/order/order.js");
 		__wxRoute = 'mch/m/order-detail/order-detail';__wxRouteBegin = true; 	define("mch/m/order-detail/order-detail.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var e=require("../../../api.js"),d=getApp();Page({data:{show_edit_modal:!1,order_sub_price:"",order_sub_price_mode:!0,order_add_price:"",order_add_price_mode:!1,show_send_modal:!1,send_type:"express",order:null},onLoad:function(t){d.pageOnLoad(this);var o=this;wx.showLoading({title:"正在加载",mask:!0}),d.request({url:e.mch.order.detail,data:{id:t.id},success:function(e){0==e.code?o.setData({order:e.data.order}):wx.showModal({title:"提示",content:e.msg,showCancel:!1,success:function(e){e.confirm&&wx.navigateBack()}})},complete:function(){wx.hideLoading()}})},onReady:function(){d.pageOnReady(this)},onShow:function(){d.pageOnShow(this)},onHide:function(){d.pageOnHide(this)},onUnload:function(){d.pageOnUnload(this)},onPullDownRefresh:function(){},onReachBottom:function(){},copyUserAddress:function(){var e=this;wx.setClipboardData({data:"收货人:"+e.data.order.username+",联系电话:"+e.data.order.mobile+",收货地址:"+e.data.order.address,success:function(d){wx.getClipboardData({success:function(d){e.showToast({title:"已复制收货信息"})}})}})},showEditModal:function(e){this.setData({show_edit_modal:!0,order_sub_price:"",order_add_price:"",order_sub_price_mode:!0,order_add_price_mode:!1})},hideEditModal:function(e){this.setData({show_edit_modal:!1})},tabSwitch:function(e){var d=this,t=e.currentTarget.dataset.tab;"order_sub_price_mode"==t&&d.setData({order_sub_price_mode:!0,order_add_price_mode:!1}),"order_add_price_mode"==t&&d.setData({order_sub_price_mode:!1,order_add_price_mode:!0})},subPriceInput:function(e){this.setData({order_sub_price:e.detail.value})},subPriceBlur:function(e){var d=this,t=parseFloat(e.detail.value);t=isNaN(t)?"":t<=0?"":t.toFixed(2),d.setData({order_sub_price:t})},addPriceInput:function(e){this.setData({order_add_price:e.detail.value})},addPriceBlur:function(e){var d=this,t=parseFloat(e.detail.value);t=isNaN(t)?"":t<=0?"":t.toFixed(2),d.setData({order_add_price:t})},editPriceSubmit:function(){var t=this,o=t.data.order_sub_price_mode?"sub":"add";wx.showLoading({mask:!0,title:"正在处理"}),d.request({url:e.mch.order.edit_price,method:"post",data:{order_id:t.data.order.id,type:o,price:"sub"==o?t.data.order_sub_price:t.data.order_add_price},success:function(e){wx.showModal({title:"提示",content:e.msg,showCancel:!1,success:function(d){d.confirm&&0==e.code&&wx.redirectTo({url:"/mch/m/order-detail/order-detail?id="+t.data.order.id})}})},complete:function(){wx.hideLoading()}})},showSendModal:function(){this.setData({show_send_modal:!0,send_type:"express"})},hideSendModal:function(){this.setData({show_send_modal:!1})},switchSendType:function(e){var d=this,t=e.currentTarget.dataset.type;d.setData({send_type:t})},sendSubmit:function(){var t=this;if("express"==t.data.send_type)return t.hideSendModal(),void wx.navigateTo({url:"/mch/m/order-send/order-send?id="+t.data.order.id});wx.showModal({title:"提示",content:"无需物流方式订单将直接标记成已发货，确认操作？",success:function(o){o.confirm&&(wx.showLoading({title:"正在提交",mask:!0}),d.request({url:e.mch.order.send,method:"post",data:{send_type:"none",order_id:t.data.order.id},success:function(e){wx.showModal({title:"提示",content:e.msg,success:function(d){d.confirm&&0==e.code&&wx.redirectTo({url:"/mch/m/order-detail/order-detail?id="+t.data.order.id})}})},complete:function(){wx.hideLoading({title:"正在提交",mask:!0})}}))}})}}); 
 			}); 	require("mch/m/order-detail/order-detail.js");
 		__wxRoute = 'mch/m/order-send/order-send';__wxRouteBegin = true; 	define("mch/m/order-send/order-send.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var e=require("../../../api.js"),t=getApp();Page({data:{order:{}},onLoad:function(o){t.pageOnLoad(this);var a=this;wx.showLoading({title:"正在加载",mask:!0}),t.request({url:e.mch.order.detail,data:{id:o.id},success:function(e){0==e.code?a.setData({order:e.data.order}):wx.showModal({title:"提示",content:e.msg,showCancel:!1,success:function(e){e.confirm&&wx.navigateBack()}})},complete:function(){wx.hideLoading()}})},onReady:function(){t.pageOnReady(this)},onShow:function(){t.pageOnShow(this)},onHide:function(){t.pageOnHide(this)},onUnload:function(){t.pageOnUnload(this)},onPullDownRefresh:function(){},onReachBottom:function(){},expressChange:function(e){var t=this;t.data.order.default_express=t.data.order.express_list[e.detail.value].express,t.setData({order:t.data.order})},expressInput:function(e){this.data.order.default_express=e.detail.value},expressNoInput:function(e){this.data.order.express_no=e.detail.value},wordsInput:function(e){this.data.order.words=e.detail.value},formSubmit:function(o){var a=this;wx.showLoading({title:"正在提交",mask:!0}),t.request({url:e.mch.order.send,method:"post",data:{send_type:"express",order_id:a.data.order.id,express:o.detail.value.express,express_no:o.detail.value.express_no,words:o.detail.value.words},success:function(e){wx.showModal({title:"提示",content:e.msg,showCancel:!1,success:function(t){t.confirm&&0==e.code&&wx.navigateBack()}})},complete:function(e){wx.hideLoading()}})}}); 
 			}); 	require("mch/m/order-send/order-send.js");
 		__wxRoute = 'mch/m/shop-qrcode/shop-qrcode';__wxRouteBegin = true; 	define("mch/m/shop-qrcode/shop-qrcode.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var o=require("../../../api.js"),n=getApp();Page({data:{qrcode_pic:""},onLoad:function(e){n.pageOnLoad(this);var a=this;n.request({url:o.mch.user.shop_qrcode,success:function(o){0==o.code?a.setData({header_bg:o.data.header_bg,shop_logo:o.data.shop_logo,shop_name:o.data.shop_name,qrcode_pic:o.data.qrcode_pic}):wx.showModal({title:"提示",content:o.msg,success:function(){}})}})},onReady:function(){n.pageOnReady(this)},onShow:function(){n.pageOnShow(this)},onHide:function(){n.pageOnHide(this)},onUnload:function(){n.pageOnUnload(this)},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){}}); 
 			}); 	require("mch/m/shop-qrcode/shop-qrcode.js");
 		__wxRoute = 'mch/m/account/account';__wxRouteBegin = true; 	define("mch/m/account/account.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var a=require("../../../api.js"),t=getApp();Page({data:{cash_val:""},onLoad:function(o){t.pageOnLoad(this);var s=this,n=wx.getStorageSync("mch_account_data");n&&s.setData(n),wx.showNavigationBarLoading(),t.request({url:a.mch.user.account,success:function(a){0==a.code?(s.setData(a.data),wx.setStorageSync("mch_account_data",a.data)):wx.showModal({title:"提示",content:a.msg,success:function(){}})},complete:function(){wx.hideNavigationBarLoading()}})},onReady:function(){t.pageOnReady(this)},onShow:function(){t.pageOnShow(this)},onHide:function(){t.pageOnHide(this)},onUnload:function(){t.pageOnUnload(this)},showDesc:function(){var a=this;wx.showModal({title:"交易手续费说明",content:a.data.desc,showCancel:!1})},showCash:function(){return void wx.navigateTo({url:"/mch/m/cash/cash"})},hideCash:function(){this.setData({show_cash:!1})},cashInput:function(a){var t=this,o=a.detail.value;o=parseFloat(o),isNaN(o)&&(o=0),o=o.toFixed(2),t.setData({cash_val:o||""})},cashSubmit:function(o){var s=this;s.data.cash_val?s.data.cash_val<=0?s.showToast({title:"请输入提现金额。"}):(wx.showLoading({title:"正在提交",mask:!0}),t.request({url:a.mch.user.cash,method:"POST",data:{cash_val:s.data.cash_val},success:function(a){wx.showModal({title:"提示",content:a.msg,showCancel:!1,success:function(){0==a.code&&wx.redirectTo({url:"/mch/m/account/account"})}})},complete:function(a){wx.hideLoading()}})):s.showToast({title:"请输入提现金额。"})}}); 
 			}); 	require("mch/m/account/account.js");
 		__wxRoute = 'mch/m/account-rest/account-rest';__wxRouteBegin = true; 	define("mch/m/account-rest/account-rest.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";require("../../../api.js");var n=getApp();Page({data:{},onLoad:function(o){n.pageOnLoad(this)},onReady:function(){n.pageOnReady(this)},onShow:function(){n.pageOnShow(this)},onHide:function(){n.pageOnHide(this)},onUnload:function(){n.pageOnUnload(this)},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){}}); 
 			}); 	require("mch/m/account-rest/account-rest.js");
 		__wxRoute = 'mch/m/account-log/account-log';__wxRouteBegin = true; 	define("mch/m/account-log/account-log.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=require("../../../api.js"),a=getApp();Page({data:{list:[],current_page:0,loading:!1,no_more:!1},getList:function(){var n=this;if(!n.data.loading&&!n.data.no_more){n.setData({loading:!0});var e=n.data.current_page+1;a.request({url:t.mch.user.account_log,data:{page:e,year:"",month:""},success:function(t){0==t.code&&(t.data.list&&t.data.list.length?(n.data.list=n.data.list.concat(t.data.list),n.setData({list:n.data.list,current_page:e})):n.setData({no_more:!0})),1==t.code&&wx.showModal({title:"提示",content:t.msg,showCancel:!1})},complete:function(t){n.setData({loading:!1})}})}},onLoad:function(t){a.pageOnLoad(this);this.getList()},onReady:function(){a.pageOnReady(this)},onShow:function(){a.pageOnShow(this)},onHide:function(){a.pageOnHide(this)},onUnload:function(){a.pageOnUnload(this)},onPullDownRefresh:function(){},onReachBottom:function(){this.getList()}}); 
 			}); 	require("mch/m/account-log/account-log.js");
 		__wxRoute = 'mch/m/cash-log/cash-log';__wxRouteBegin = true; 	define("mch/m/cash-log/cash-log.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=require("../../../api.js"),a=getApp();Page({data:{list:[],current_page:0,loading:!1,no_more:!1},getList:function(){var n=this;if(!n.data.loading&&!n.data.no_more){n.setData({loading:!0});var e=n.data.current_page+1;a.request({url:t.mch.user.cash_log,data:{page:e,year:"",month:""},success:function(t){0==t.code&&(t.data.list&&t.data.list.length?(n.data.list=n.data.list.concat(t.data.list),n.setData({list:n.data.list,current_page:e})):n.setData({no_more:!0})),1==t.code&&wx.showModal({title:"提示",content:t.msg,showCancel:!1})},complete:function(t){n.setData({loading:!1})}})}},onLoad:function(t){a.pageOnLoad(this);this.getList()},onReady:function(){a.pageOnReady(this)},onShow:function(){a.pageOnShow(this)},onHide:function(){a.pageOnHide(this)},onUnload:function(){a.pageOnUnload(this)},onPullDownRefresh:function(){},onReachBottom:function(){this.getList()}}); 
 			}); 	require("mch/m/cash-log/cash-log.js");
 		__wxRoute = 'mch/m/tongji/tongji';__wxRouteBegin = true; 	define("mch/m/tongji/tongji.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=require("../../../api.js"),a=getApp();Page({data:{current_year:"",current_month:"",month_scroll_x:1e5,year_list:[],daily_avg:"-",month_count:"-",up_rate:"-"},onLoad:function(e){a.pageOnLoad(this);var n=this;wx.showNavigationBarLoading(),a.request({url:t.mch.user.tongji_year_list,success:function(t){n.setData({year_list:t.data.year_list,current_year:t.data.current_year,current_month:t.data.current_month}),n.setMonthScroll(),n.getMonthData()},complete:function(){wx.hideNavigationBarLoading()}})},onReady:function(){a.pageOnReady(this)},onShow:function(){a.pageOnShow(this)},onHide:function(){a.pageOnHide(this)},onUnload:function(){a.pageOnUnload(this)},onPullDownRefresh:function(){},onReachBottom:function(){},changeMonth:function(t){var a=this,e=t.currentTarget.dataset.yearIndex,n=t.currentTarget.dataset.monthIndex;for(var r in a.data.year_list){r==e?(a.data.year_list[r].active=!0,a.data.current_year=a.data.year_list[r].year):a.data.year_list[r].active=!1;for(var o in a.data.year_list[r].month_list)r==e&&o==n?(a.data.year_list[r].month_list[o].active=!0,a.data.current_month=a.data.year_list[r].month_list[o].month):a.data.year_list[r].month_list[o].active=!1}a.setData({year_list:a.data.year_list,current_year:a.data.current_year}),a.setMonthScroll(),a.getMonthData()},setMonthScroll:function(){var t=this,a=wx.getSystemInfoSync().screenWidth/5,e=0;for(var n in t.data.year_list){var r=!1;for(var o in t.data.year_list[n].month_list){if(t.data.year_list[n].month_list[o].active){r=!0;break}e++}if(r)break}t.setData({month_scroll_x:(e-0)*a})},setCurrentYear:function(){var t=this;for(var a in t.data.year_list)if(t.data.year_list[a].active){t.data.current_year=t.data.year_list[a].year;break}t.setData({current_year:t.data.current_year})},getMonthData:function(){var e=this;wx.showNavigationBarLoading(),e.setData({daily_avg:"-",month_count:"-",up_rate:"-"}),a.request({url:t.mch.user.tongji_month_data,data:{year:e.data.current_year,month:e.data.current_month},success:function(t){0==t.code?e.setData({daily_avg:t.data.daily_avg,month_count:t.data.month_count,up_rate:t.data.up_rate}):wx.showModal({title:"提示",content:t.msg,showCancel:!1})},complete:function(){wx.hideNavigationBarLoading()}})}}); 
 			}); 	require("mch/m/tongji/tongji.js");
 		__wxRoute = 'mch/m/order-refund/order-refund';__wxRouteBegin = true; 	define("mch/m/order-refund/order-refund.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=require("../../../api.js"),e=getApp();Page({data:{},onLoad:function(o){e.pageOnLoad(this);var n=this;n.setData({id:o.id||0}),wx.showLoading({title:"加载中",mask:!0}),e.request({url:t.mch.order.refund_detail,data:{id:n.data.id},success:function(t){0==t.code&&n.setData(t.data),1==t.code&&wx.showModal({title:"提示",content:t.msg,showCancel:!1})},complete:function(t){wx.hideLoading()}})},onReady:function(){e.pageOnReady(this)},onShow:function(){e.pageOnShow(this)},onHide:function(){e.pageOnHide(this)},onUnload:function(){e.pageOnUnload(this)},showPicList:function(t){var e=this;wx.previewImage({urls:e.data.pic_list,current:e.data.pic_list[t.currentTarget.dataset.pindex]})},refundPass:function(o){var n=this,i=n.data.id,a=n.data.type;wx.showModal({title:"提示",content:"确认同意"+(1==a?"退款？资金将原路返回！":"换货？"),success:function(o){o.confirm&&(wx.showLoading({title:"正在处理",mask:!0}),e.request({url:t.mch.order.refund,method:"post",data:{id:i,action:"pass"},success:function(t){wx.showModal({title:"提示",content:t.msg,showCancel:!1,success:function(t){wx.redirectTo({url:"/"+n.route+"?"+getApp().utils.objectToUrlParams(n.options)})}})},complete:function(){wx.hideLoading()}}))}})},refundDeny:function(o){var n=this,i=n.data.id;wx.showModal({title:"提示",content:"确认拒绝？",success:function(o){o.confirm&&(wx.showLoading({title:"正在处理",mask:!0}),e.request({url:t.mch.order.refund,method:"post",data:{id:i,action:"deny"},success:function(t){wx.showModal({title:"提示",content:t.msg,showCancel:!1,success:function(t){wx.redirectTo({url:"/"+n.route+"?"+getApp().utils.objectToUrlParams(n.options)})}})},complete:function(){wx.hideLoading()}}))}})}}); 
 			}); 	require("mch/m/order-refund/order-refund.js");
 		__wxRoute = 'mch/apply/apply';__wxRouteBegin = true; 	define("mch/apply/apply.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=require("../../api.js"),e=require("../../area-picker/area-picker.js"),a=getApp();Page({data:{is_form_show:!1},onLoad:function(i){a.pageOnLoad(this);var n=this;n.getDistrictData(function(t){e.init({page:n,data:t})}),wx.showLoading({title:"正在加载",mask:!0}),a.request({url:t.mch.apply,success:function(t){wx.hideLoading(),0==t.code&&(t.data.apply&&(t.data.show_result=!0),n.setData(t.data),t.data.apply||n.setData({is_form_show:!0}))}})},getDistrictData:function(e){var i=wx.getStorageSync("district");if(!i)return wx.showLoading({title:"正在加载",mask:!0}),void a.request({url:t.default.district,success:function(t){wx.hideLoading(),0==t.code&&(i=t.data,wx.setStorageSync("district",i),e(i))}});e(i)},onAreaPickerConfirm:function(t){this.setData({edit_district:{province:{id:t[0].id,name:t[0].name},city:{id:t[1].id,name:t[1].name},district:{id:t[2].id,name:t[2].name}}})},onReady:function(){a.pageOnReady(this)},onShow:function(){a.pageOnShow(this)},onHide:function(){a.pageOnHide(this)},onUnload:function(){a.pageOnUnload(this)},onPullDownRefresh:function(){},onReachBottom:function(){},mchCommonCatChange:function(t){this.setData({mch_common_cat_index:t.detail.value})},applySubmit:function(e){var i=this;!i.data.entry_rules||i.data.agree_entry_rules?(wx.showLoading({title:"正在提交",mask:!0}),a.request({url:t.mch.apply_submit,method:"post",data:{realname:e.detail.value.realname,tel:e.detail.value.tel,name:e.detail.value.name,province_id:e.detail.value.province_id,city_id:e.detail.value.city_id,district_id:e.detail.value.district_id,address:e.detail.value.address,mch_common_cat_id:i.data.mch_common_cat_index?i.data.mch_common_cat_list[i.data.mch_common_cat_index].id:i.data.apply&&i.data.apply.mch_common_cat_id?i.data.apply.mch_common_cat_id:"",service_tel:e.detail.value.service_tel,form_id:e.detail.formId,wechat_name:e.detail.value.wechat_name},success:function(t){wx.hideLoading(),0==t.code&&wx.showModal({title:"提示",content:t.msg,showCancel:!1,success:function(t){t.confirm&&wx.redirectTo({url:"/mch/apply/apply"})}}),1==t.code&&i.showToast({title:t.msg})}})):wx.showModal({title:"提示",content:"请先阅读并同意《入驻协议》。",showCancel:!1})},hideApplyResult:function(){this.setData({show_result:!1,is_form_show:!0})},showApplyResult:function(){this.setData({show_result:!0})},showEntryRules:function(){this.setData({show_entry_rules:!0})},disagreeEntryRules:function(){this.setData({agree_entry_rules:!1,show_entry_rules:!1})},agreeEntryRules:function(){this.setData({agree_entry_rules:!0,show_entry_rules:!1})}}); 
 			}); 	require("mch/apply/apply.js");
 		__wxRoute = 'mch/shop/shop';__wxRouteBegin = true; 	define("mch/shop/shop.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=require("../../api.js"),a=require("../../utils.js"),o=getApp();Page({data:{tab:1,sort:1,coupon_list:[],copy:!1},onLoad:function(t){o.pageOnLoad(this);var e=this;if(t.scene){var s=decodeURIComponent(t.scene);s&&(s=a.scene_decode(s)).mch_id&&(t.mch_id=s.mch_id)}e.setData({tab:t.tab||1,sort:t.sort||1,mch_id:t.mch_id||!1,cat_id:t.cat_id||""}),e.data.mch_id||wx.showModal({title:"提示",content:"店铺不存在！店铺id为空"}),setInterval(function(){e.onScroll()},40),this.getShopData()},onReady:function(){o.pageOnReady(this)},onShow:function(){o.pageOnShow(this)},onHide:function(){o.pageOnHide(this)},onUnload:function(){o.pageOnUnload(this)},onPullDownRefresh:function(){},onReachBottom:function(){this.getGoodsList()},onShareAppMessage:function(){var t=this;return{title:t.data.shop?t.data.shop.name:"商城首页"}},kfuStart:function(){this.setData({copy:!0})},kfuEnd:function(){this.setData({copy:!1})},copyinfo:function(t){wx.setClipboardData({data:t.target.dataset.info,success:function(t){wx.showToast({title:"复制成功！",icon:"success",duration:2e3,mask:!0})}})},callPhone:function(t){wx.makePhoneCall({phoneNumber:t.target.dataset.info})},onScroll:function(t){var a=this;wx.createSelectorQuery().selectViewport(".after-navber").scrollOffset(function(t){var o=2==a.data.tab?136.5333:85.3333;t.scrollTop>=o?a.setData({fixed:!0}):a.setData({fixed:!1})}).exec()},getShopData:function(){var a=this,e=(a.data.current_page||0)+1,s="shop_data_mch_id_"+a.data.mch_id,i=wx.getStorageSync(s);i&&a.setData({shop:i.shop}),wx.showNavigationBarLoading(),a.setData({loading:!0}),o.request({url:t.mch.shop,data:{mch_id:a.data.mch_id,tab:a.data.tab,sort:a.data.sort,page:e,cat_id:a.data.cat_id},success:function(t){1!=t.code?0==t.code&&(a.setData({shop:t.data.shop,coupon_list:t.data.coupon_list,hot_list:t.data.goods_list,goods_list:t.data.goods_list,new_list:t.data.new_list,current_page:e,cs_icon:t.data.shop.cs_icon}),wx.setStorageSync(s,t.data)):wx.showModal({title:"提示",content:t.msg,showCancel:!1,success:function(t){t.confirm&&wx.redirectTo({url:"/pages/index/index"})}})},complete:function(){wx.hideNavigationBarLoading(),a.setData({loading:!1})}})},getGoodsList:function(){var a=this;if(3!=a.data.tab&&!a.data.loading&&!a.data.no_more){a.setData({loading:!0});var e=(a.data.current_page||0)+1;o.request({url:t.mch.shop,data:{mch_id:a.data.mch_id,tab:a.data.tab,sort:a.data.sort,page:e,cat_id:a.data.cat_id},success:function(t){0==t.code&&(1==a.data.tab&&(t.data.goods_list&&t.data.goods_list.length?(a.data.hot_list=a.data.hot_list.concat(t.data.goods_list),a.setData({hot_list:a.data.hot_list,current_page:e})):a.setData({no_more:!0})),2==a.data.tab&&(t.data.goods_list&&t.data.goods_list.length?(a.data.goods_list=a.data.goods_list.concat(t.data.goods_list),a.setData({goods_list:a.data.goods_list,current_page:e})):a.setData({no_more:!0})))},complete:function(){a.setData({loading:!1})}})}}}); 
 			}); 	require("mch/shop/shop.js");
 		__wxRoute = 'mch/shop-list/shop-list';__wxRouteBegin = true; 	define("mch/shop-list/shop-list.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=require("../../api.js"),a=getApp();Page({data:{cat_id:"",keyword:"",list:[],page:1,no_more:!1,loading:!1},onLoad:function(t){a.pageOnLoad(this),t.cat_id&&(this.data.cat_id=t.cat_id),this.loadShopList()},loadShopList:function(i){var o=this;o.data.no_more?"function"==typeof i&&i():o.data.loading||(o.setData({loading:!0}),a.request({url:t.mch.shop_list,data:{keyword:o.data.keyword,cat_id:o.data.cat_id,page:o.data.page},success:function(t){if(0==t.code){if(!t.data.list||!t.data.list.length)return void o.setData({no_more:!0,cat_list:t.data.cat_list});o.data.list||(o.data.list=[]),o.data.list=o.data.list.concat(t.data.list),o.setData({list:o.data.list,page:o.data.page+1,cat_list:t.data.cat_list})}},complete:function(){o.setData({loading:!1}),"function"==typeof i&&i()}}))},onReady:function(){a.pageOnReady(this)},onShow:function(){a.pageOnShow(this)},onHide:function(){a.pageOnHide(this)},onUnload:function(){a.pageOnUnload(this)},onPullDownRefresh:function(){},onReachBottom:function(){this.loadShopList()},searchSubmit:function(t){var a=this,i=t.detail.value;a.setData({list:[],keyword:i,page:1,no_more:!1}),a.loadShopList(function(){})},showCatList:function(){this.setData({show_cat_list:!0})},hideCatList:function(){this.setData({show_cat_list:!1})}}); 
 			}); 	require("mch/shop-list/shop-list.js");
 		__wxRoute = 'mch/shop-cat/shop-cat';__wxRouteBegin = true; 	define("mch/shop-cat/shop-cat.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var a=require("../../api.js"),t=getApp();Page({data:{list:[{id:1,name:"上衣"},{id:2,name:"下装",list:[{id:3,name:"长裤"},{id:4,name:"长裤"},{id:5,name:"九分裤"},{id:6,name:"短裤"}]},{id:7,name:"帽子"}]},onLoad:function(i){t.pageOnLoad(this);var n=this;n.setData({mch_id:i.mch_id,cat_id:i.cat_id||""});var e="shop_cat_list_mch_id_"+n.data.mch_id,o=wx.getStorageSync(e);o&&n.setData({list:o}),wx.showNavigationBarLoading(),t.request({url:a.mch.shop_cat,data:{mch_id:n.data.mch_id},success:function(a){0==a.code&&(n.setData({list:a.data.list}),wx.setStorageSync(e,a.data.list))},complete:function(){wx.hideNavigationBarLoading()}})},onReady:function(){t.pageOnReady(this)},onShow:function(){t.pageOnShow(this)},onHide:function(){t.pageOnHide(this)},onUnload:function(){t.pageOnUnload(this)},onPullDownRefresh:function(){},onReachBottom:function(){}}); 
 			}); 	require("mch/shop-cat/shop-cat.js");
 		__wxRoute = 'mch/m/cash/cash';__wxRouteBegin = true; 	define("mch/m/cash/cash.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var e=require("../../../api.js"),a=getApp();Page({data:{price:0,cash_max_day:-1,selected:0},onLoad:function(e){a.pageOnLoad(this)},onReady:function(){},onShow:function(){a.pageOnShow(this);var i=this;wx.showLoading({title:"正在提交",mask:!0}),a.request({url:e.mch.user.cash_preview,success:function(e){if(0==e.code){var a={};a.price=e.data.money,a.type_list=e.data.type_list,i.setData(a)}},complete:function(e){wx.hideLoading()}})},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},showCashMaxDetail:function(){wx.showModal({title:"提示",content:"今日剩余提现金额=平台每日可提现金额-今日所有用户提现金额"})},select:function(e){var a=e.currentTarget.dataset.index;a!=this.data.check&&this.setData({name:"",mobile:"",bank_name:""}),this.setData({selected:a})},formSubmit:function(i){var t=this,n=parseFloat(parseFloat(i.detail.value.cash).toFixed(2)),o=t.data.price;if(n)if(n>o)wx.showToast({title:"提现金额不能超过"+o+"元",image:"/images/icon-warning.png"});else if(n<1)wx.showToast({title:"提现金额不能低于1元",image:"/images/icon-warning.png"});else{var s=t.data.selected;if(0==s||1==s||2==s||3==s||4==s){if(1==s||2==s||3==s){if(!(r=i.detail.value.name)||void 0==r)return void wx.showToast({title:"姓名不能为空",image:"/images/icon-warning.png"});if(!(l=i.detail.value.mobile)||void 0==l)return void wx.showToast({title:"账号不能为空",image:"/images/icon-warning.png"})}if(3==s){if(!(c=i.detail.value.bank_name)||void 0==c)return void wx.showToast({title:"开户行不能为空",image:"/images/icon-warning.png"})}else c="";if(4==s||0==s)var c="",l="",r="";wx.showLoading({title:"正在提交",mask:!0}),a.request({url:e.mch.user.cash,method:"POST",data:{cash_val:n,nickname:r,account:l,bank_name:c,type:s,scene:"CASH",form_id:i.detail.formId},success:function(e){wx.hideLoading(),wx.showModal({title:"提示",content:e.msg,showCancel:!1,success:function(a){a.confirm&&0==e.code&&wx.redirectTo({url:"/mch/m/cash-log/cash-log"})}})}})}else wx.showToast({title:"请选择提现方式",image:"/images/icon-warning.png"})}else wx.showToast({title:"请输入提现金额",image:"/images/icon-warning.png"})}}); 
 			}); 	require("mch/m/cash/cash.js");
 	